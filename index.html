<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <script>

        //create function to randomly return either rock, paper, or scissors.

        const options = ["rock", "paper", "scissors"];

        function getComputerChoice(){
            const choice = options[(Math.floor(Math.random() * options.length))]; //create a variable to pull a random object from the array. Math.random * length will generate a number that corresponds to the items in the array. Math floor will round that number does to the nearest and returns the largest integer less than or equal to a given number?
            //console.log(choice);
            return choice;
        }



        function checkWinner(playerSelection, computerSelection){
            if(playerSelection == computerSelection){
                return "Tie";
            }
            else if (
                (playerSelection == "rock" && computerSelection == "scissors")
                || (playerSelection == "scissors" && computerSelection == "paper")
                || (playerSelection == "paper" && computerSelection == "rock")
            ){
                return "Player"
            } 
            else {
                return "Computer"
            }
        }

        function playRound(playerSelection, computerSelection){
            const result = checkWinner(playerSelection, computerSelection);
            if (result == "Tie"){
                return "It's a Tie!";
            } 
            else if (result == "Player"){
                return `Player Wins! ${playerSelection} beats ${computerSelection}`
            }
                else if (result == "Computer"){
                    return `Computer Wins! ${computerSelection} beats ${playerSelection}`
                }
        }

        function getPlayerChoice(){
            let validatedInput = false;
            while(validatedInput == false){
                const choice = prompt("Rock Paper Scissors");
                if (choice == null){
                    continue;
                }
                //console.log(choice)
                const choiceLowerCase = choice.toLowerCase();
                if (options.includes(choiceLowerCase)){
                    validatedInput == true;
                    return choiceLowerCase;
                }
                //console.log(choiceLowerCase);
            }
        }


        function game(){
            let scorePlayer = 0;
            let scoreComputer = 0;
            console.log("Welcome!")
            for (let i = 0; i < 5; i++) {
                const playerSelection = getPlayerChoice();
                const computerSelection = getComputerChoice();
                console.log(playRound(playerSelection, computerSelection));
                if (checkWinner(playerSelection, computerSelection) ==  "Player"){
                    scorePlayer++;
                } 
                else if (checkWinner(playerSelection,computerSelection) == "Computer"){
                    scoreComputer++;
                }
            }
            //console.log("Game Over")
            if (scorePlayer > scoreComputer){
                console.log("Player wins game!")
            } 
            else if (scoreComputer > scorePlayer){
                console.log("Compyter wins game!")
            }
            else {
                console.log("Tie - No Winner")
            }

        }

        game();



    </script>
</body>
</html>